import{_ as i,c as a,o as n,ah as t}from"./chunks/framework.ptg7Kx6M.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{"title":20260115,"date":"2026-01-15T00:00:00.000Z","category":"blog","tags":["blog"]},"headers":[],"relativePath":"posts/2026/01-15.md","filePath":"posts/2026/01-15.md"}'),l={name:"posts/2026/01-15.md"};function p(h,s,e,k,d,r){return n(),a("div",null,s[0]||(s[0]=[t(`<h2 id="_1-手动创建android项目支持uniappx" tabindex="-1">1. 手动创建android项目支持uniappx <a class="header-anchor" href="#_1-手动创建android项目支持uniappx" aria-label="Permalink to &quot;1. 手动创建android项目支持uniappx&quot;">​</a></h2><blockquote><p>官方文档: <a href="https://doc.dcloud.net.cn/uni-app-x/native/use/android.html" target="_blank" rel="noreferrer">https://doc.dcloud.net.cn/uni-app-x/native/use/android.html</a></p></blockquote><h3 id="环境要求-正式版" tabindex="-1">环境要求（正式版） <a class="header-anchor" href="#环境要求-正式版" aria-label="Permalink to &quot;环境要求（正式版）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>组件</th><th>版本</th><th>备注</th></tr></thead><tbody><tr><td>Java</td><td>17</td><td>Oracle JDK 或 OpenJDK</td></tr><tr><td>Gradle</td><td>8.4</td><td></td></tr><tr><td>AGP</td><td>8.2.2</td><td>Android Gradle Plugin</td></tr><tr><td>Kotlin 插件</td><td>1.9.10</td><td></td></tr><tr><td>kotlin-stdlib</td><td>2.2.0</td><td>运行时依赖</td></tr><tr><td>Android Studio</td><td>2023.2.1 Patch 2</td><td>可选，命令行可不用</td></tr></tbody></table><h3 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h3><ul><li><a href="https://doc.dcloud.net.cn/uni-app-x/native/use/android.html" target="_blank" rel="noreferrer">uni-app x 原生SDK Android版</a></li><li><a href="https://doc.dcloud.net.cn/uni-app-x/native/download/android.html" target="_blank" rel="noreferrer">uni-app x Android原生SDK 下载</a></li><li><a href="https://developer.android.com/studio?hl=zh-cn#command-line-tools-only" target="_blank" rel="noreferrer">Android cmdline-tools</a></li><li><a href="https://gradle.org/releases/#8.4" target="_blank" rel="noreferrer">Gradle 8.4</a></li><li><a href="https://www.oracle.com/java/technologies/downloads/#java17" target="_blank" rel="noreferrer">Java 17</a></li></ul><h3 id="_2-android-命令行创建项目" tabindex="-1">2 Android 命令行创建项目 <a class="header-anchor" href="#_2-android-命令行创建项目" aria-label="Permalink to &quot;2 Android 命令行创建项目&quot;">​</a></h3><h4 id="背景说明" tabindex="-1">背景说明 <a class="header-anchor" href="#背景说明" aria-label="Permalink to &quot;背景说明&quot;">​</a></h4><p>早期 Android SDK 提供了 <code>android create project</code> 命令来创建项目，但该命令已被废弃。目前 <code>gradle init</code> 也不支持直接创建 Android 项目模板。因此，需要<strong>手动创建项目结构</strong>或使用 Android Studio 生成模板后复用。</p><h4 id="环境准备" tabindex="-1">环境准备 <a class="header-anchor" href="#环境准备" aria-label="Permalink to &quot;环境准备&quot;">​</a></h4><p>目录结构：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>D:\\soft\\Android\\</span></span>
<span class="line"><span>├── cmdline-tools\\    # Android SDK 命令行工具</span></span>
<span class="line"><span>├── gradle-8.4\\       # Gradle</span></span>
<span class="line"><span>└── Sdk\\              # Android SDK（可选，Android Studio 自带）</span></span></code></pre></div><h5 id="_1-java-已有-✅" tabindex="-1">1. Java（已有 ✅） <a class="header-anchor" href="#_1-java-已有-✅" aria-label="Permalink to &quot;1. Java（已有 ✅）&quot;">​</a></h5><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Java 17+ 即可</span></span></code></pre></div><h5 id="_2-gradle-环境变量配置" tabindex="-1">2. Gradle 环境变量配置 <a class="header-anchor" href="#_2-gradle-环境变量配置" aria-label="Permalink to &quot;2. Gradle 环境变量配置&quot;">​</a></h5><p>下载 <a href="https://gradle.org/releases/#8.4" target="_blank" rel="noreferrer">gradle-8.4-bin.zip</a> 解压到 <code>D:\\soft\\Android\\gradle-8.4</code></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置环境变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::SetEnvironmentVariable(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GRADLE_HOME&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;D:\\soft\\Android\\gradle-8.4&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;User&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;;D:\\soft\\Android\\gradle-8.4\\bin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::SetEnvironmentVariable(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Path&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;User&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 验证</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gradle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">v</span></span></code></pre></div><h5 id="_3-android-sdk-cmdline-tools-环境变量配置" tabindex="-1">3. Android SDK cmdline-tools 环境变量配置 <a class="header-anchor" href="#_3-android-sdk-cmdline-tools-环境变量配置" aria-label="Permalink to &quot;3. Android SDK cmdline-tools 环境变量配置&quot;">​</a></h5><p>下载 <a href="https://developer.android.com/studio?hl=zh-cn#command-line-tools-only" target="_blank" rel="noreferrer">commandlinetools-win</a> 解压到 <code>D:\\soft\\Android\\cmdline-tools</code></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置环境变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::SetEnvironmentVariable(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ANDROID_HOME&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;D:\\soft\\Android\\Sdk&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;User&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;;D:\\soft\\Android\\cmdline-tools\\bin;D:\\soft\\Android\\Sdk\\platform-tools&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::SetEnvironmentVariable(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Path&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;User&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h5 id="_4-sdkmanager-操作" tabindex="-1">4. sdkmanager 操作 <a class="header-anchor" href="#_4-sdkmanager-操作" aria-label="Permalink to &quot;4. sdkmanager 操作&quot;">​</a></h5><p><strong>Step 1: 接受许可协议（必须）</strong></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">licenses</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入 y 接受所有许可</span></span></code></pre></div><p><strong>Step 2: 查看可用组件</strong></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list</span></span></code></pre></div><p><strong>Step 3: 安装必要组件（逐个安装更稳定）</strong></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform-tools&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platforms;android-34&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;build-tools;34.0.0&quot;</span></span></code></pre></div><p><strong>常见问题：Error on ZipFile unknown archive</strong></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 方案1：使用国内镜像</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">no_https </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mirrors.cloud.tencent.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;platform-tools&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">no_https </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mirrors.cloud.tencent.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;platforms;android-34&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">no_https </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mirrors.cloud.tencent.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">proxy_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;build-tools;35.0.0&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 方案2：检查已有 SDK（Android Studio 已安装的）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ls D:\\soft\\Android\\Sdk\\</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 方案3：清理缓存重试</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Remove-Item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Recurse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Force </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USERPROFILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\\.android\\cache&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform-tools&quot;</span></span></code></pre></div><p><strong>查看已安装组件</strong></p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdkmanager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sdk_root</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D:\\soft\\Android\\Sdk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list_installed</span></span></code></pre></div><h5 id="验证安装" tabindex="-1">验证安装 <a class="header-anchor" href="#验证安装" aria-label="Permalink to &quot;验证安装&quot;">​</a></h5><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -version</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # ✅ Java 18</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gradle</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # ✅ Gradle 8.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sdkmanager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 显示已安装的 SDK 组件</span></span></code></pre></div><h3 id="_1-2-一键创建项目-cli-脚手架" tabindex="-1">1.2 一键创建项目（CLI 脚手架） <a class="header-anchor" href="#_1-2-一键创建项目-cli-脚手架" aria-label="Permalink to &quot;1.2 一键创建项目（CLI 脚手架）&quot;">​</a></h3><h4 id="使用脚手架脚本" tabindex="-1">使用脚手架脚本 <a class="header-anchor" href="#使用脚手架脚本" aria-label="Permalink to &quot;使用脚手架脚本&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载脚本（或复制到本地）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 脚本位置: scripts/create-uniappx-project.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 赋予执行权限</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-uniappx-project.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建项目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./create-uniappx-project.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyApp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.example.myapp</span></span></code></pre></div><h4 id="脚本功能" tabindex="-1">脚本功能 <a class="header-anchor" href="#脚本功能" aria-label="Permalink to &quot;脚本功能&quot;">​</a></h4><p>脚本会自动执行以下操作：</p><ol><li>创建项目目录结构（app + uniappx 模块）</li><li>生成 <code>settings.gradle</code>、<code>build.gradle</code>、<code>gradle.properties</code></li><li>配置 uni-app x 所需的所有依赖</li><li>创建 <code>AndroidManifest.xml</code> 和 <code>MainActivity.kt</code></li><li>初始化 Gradle Wrapper (8.4)</li><li>复制 uni-app x SDK aar 文件</li></ol><h4 id="项目结构" tabindex="-1">项目结构 <a class="header-anchor" href="#项目结构" aria-label="Permalink to &quot;项目结构&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MyApp/</span></span>
<span class="line"><span>├── settings.gradle</span></span>
<span class="line"><span>├── build.gradle</span></span>
<span class="line"><span>├── gradle.properties</span></span>
<span class="line"><span>├── gradlew / gradlew.bat</span></span>
<span class="line"><span>├── app/</span></span>
<span class="line"><span>│   ├── build.gradle</span></span>
<span class="line"><span>│   └── src/main/</span></span>
<span class="line"><span>│       ├── AndroidManifest.xml</span></span>
<span class="line"><span>│       ├── java/com/example/myapp/MainActivity.kt</span></span>
<span class="line"><span>│       └── res/values/strings.xml</span></span>
<span class="line"><span>└── uniappx/</span></span>
<span class="line"><span>    ├── build.gradle</span></span>
<span class="line"><span>    ├── libs/          # 放置 uni-app x SDK aar 文件</span></span>
<span class="line"><span>    └── src/main/AndroidManifest.xml</span></span></code></pre></div><h4 id="手动补充-aar-文件" tabindex="-1">手动补充 aar 文件 <a class="header-anchor" href="#手动补充-aar-文件" aria-label="Permalink to &quot;手动补充 aar 文件&quot;">​</a></h4><p>将 <code>D:\\soft\\Android\\plugins</code> 中的核心 aar 文件复制到 <code>uniappx/libs/</code>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 必须的 19 个核心 aar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/uts-runtime-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/app-common-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/app-runtime-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/framework-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/breakpad-build-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /d/soft/Android/plugins/dcloud-layout-release.aar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uniappx/libs/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ... 其他 aar 文件</span></span></code></pre></div><h4 id="构建项目" tabindex="-1">构建项目 <a class="header-anchor" href="#构建项目" aria-label="Permalink to &quot;构建项目&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MyApp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gradlew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> assembleDebug</span></span></code></pre></div><p>运行项目：<a href="https://dev.dcloud.net.cn/pages/app/list" target="_blank" rel="noreferrer">https://dev.dcloud.net.cn/pages/app/list</a></p>`,47)]))}const E=i(l,[["render",p]]);export{g as __pageData,E as default};
