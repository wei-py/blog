import{_ as s,c as n,o as e,ah as i}from"./chunks/framework.ptg7Kx6M.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"posts/framework/uniapp/wx-sdk.md","filePath":"posts/framework/uniapp/wx-sdk.md"}'),l={name:"posts/framework/uniapp/wx-sdk.md"};function p(d,a,t,o,r,c){return e(),n("div",null,a[0]||(a[0]=[i(`<h2 id="第一步-生成本地打包资源" tabindex="-1">第一步: 生成本地打包资源 <a class="header-anchor" href="#第一步-生成本地打包资源" aria-label="Permalink to &quot;第一步: 生成本地打包资源&quot;">​</a></h2><h3 id="在-hbuilderx-中打开你的项目" tabindex="-1">在 HBuilderX 中打开你的项目 <a class="header-anchor" href="#在-hbuilderx-中打开你的项目" aria-label="Permalink to &quot;在 HBuilderX 中打开你的项目&quot;">​</a></h3><h3 id="菜单选择-发行-→-原生app-本地打包-→-生成本地打包app资源" tabindex="-1">菜单选择: 发行 → 原生App-本地打包 → 生成本地打包App资源 <a class="header-anchor" href="#菜单选择-发行-→-原生app-本地打包-→-生成本地打包app资源" aria-label="Permalink to &quot;菜单选择: 发行 → 原生App-本地打包 → 生成本地打包App资源&quot;">​</a></h3><h3 id="等待生成完成-会在项目根目录生成资源" tabindex="-1">等待生成完成,会在项目根目录生成资源: <a class="header-anchor" href="#等待生成完成-会在项目根目录生成资源" aria-label="Permalink to &quot;等待生成完成,会在项目根目录生成资源:&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cdw/</span></span>
<span class="line"><span>└── unpackage/</span></span>
<span class="line"><span>    └── resources/</span></span>
<span class="line"><span>        └── __UNI__xxxx/  (这就是你需要的资源包)</span></span></code></pre></div><h2 id="第二步-下载-android-离线-sdk" tabindex="-1">第二步: 下载 Android 离线 SDK <a class="header-anchor" href="#第二步-下载-android-离线-sdk" aria-label="Permalink to &quot;第二步: 下载 Android 离线 SDK&quot;">​</a></h2><h3 id="访问-dcloud-官网下载-sdk" tabindex="-1">访问 DCloud 官网下载 SDK: <a class="header-anchor" href="#访问-dcloud-官网下载-sdk" aria-label="Permalink to &quot;访问 DCloud 官网下载 SDK:&quot;">​</a></h3><h4 id="地址-https-nativesupport-dcloud-net-cn-appdocs-download-android" tabindex="-1">地址: <a href="https://nativesupport.dcloud.net.cn/AppDocs/download/android" target="_blank" rel="noreferrer">https://nativesupport.dcloud.net.cn/AppDocs/download/android</a> <a class="header-anchor" href="#地址-https-nativesupport-dcloud-net-cn-appdocs-download-android" aria-label="Permalink to &quot;地址: https://nativesupport.dcloud.net.cn/AppDocs/download/android&quot;">​</a></h4><h4 id="选择与你的-hbuilderx-版本对应的-sdk-版本" tabindex="-1">选择与你的 HBuilderX 版本对应的 SDK 版本 <a class="header-anchor" href="#选择与你的-hbuilderx-版本对应的-sdk-版本" aria-label="Permalink to &quot;选择与你的 HBuilderX 版本对应的 SDK 版本&quot;">​</a></h4><h3 id="解压-sdk-目录结构大致如下" tabindex="-1">解压 SDK,目录结构大致如下: <a class="header-anchor" href="#解压-sdk-目录结构大致如下" aria-label="Permalink to &quot;解压 SDK,目录结构大致如下:&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>HBuilder-Integrate-AS/</span></span>
<span class="line"><span>├── app/</span></span>
<span class="line"><span>├── simpleDemo/</span></span>
<span class="line"><span>├── UniPlugin-Hello-AS/</span></span>
<span class="line"><span>└── ...</span></span></code></pre></div><h2 id="第三步-配置-android-项目" tabindex="-1">第三步: 配置 Android 项目 <a class="header-anchor" href="#第三步-配置-android-项目" aria-label="Permalink to &quot;第三步: 配置 Android 项目&quot;">​</a></h2><h3 id="复制资源文件" tabindex="-1">复制资源文件 <a class="header-anchor" href="#复制资源文件" aria-label="Permalink to &quot;复制资源文件&quot;">​</a></h3><h4 id="将第一步生成的-uni-xxxx-文件夹复制到" tabindex="-1">将第一步生成的 __UNI__xxxx 文件夹复制到: <a class="header-anchor" href="#将第一步生成的-uni-xxxx-文件夹复制到" aria-label="Permalink to &quot;将第一步生成的 __UNI__xxxx 文件夹复制到:&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>HBuilder-Integrate-AS/</span></span>
<span class="line"><span>└── simpleDemo/</span></span>
<span class="line"><span>    └── src/</span></span>
<span class="line"><span>        └── main/</span></span>
<span class="line"><span>            └── assets/</span></span>
<span class="line"><span>                └── apps/</span></span>
<span class="line"><span>                    └── __UNI__xxxx/  (粘贴到这里)</span></span></code></pre></div><h4 id="配置-dcloud-control-xml-打开-simpledemo-src-main-assets-data-dcloud-control-xml-修改为" tabindex="-1">配置 dcloud_control.xml - 打开 simpleDemo/src/main/assets/data/dcloud_control.xml,修改为: <a class="header-anchor" href="#配置-dcloud-control-xml-打开-simpledemo-src-main-assets-data-dcloud-control-xml-修改为" aria-label="Permalink to &quot;配置 dcloud_control.xml - 打开 simpleDemo/src/main/assets/data/dcloud_control.xml,修改为:&quot;">​</a></h4><h5 id="修改应用名称" tabindex="-1">修改应用名称: <a class="header-anchor" href="#修改应用名称" aria-label="Permalink to &quot;修改应用名称:&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;application</span></span>
<span class="line"><span>    android:name=&quot;io.dcloud.application.DCloudApplication&quot;</span></span>
<span class="line"><span>    android:label=&quot;app的名字&quot;</span></span>
<span class="line"><span>    android:icon=&quot;@drawable/icon&quot;</span></span>
<span class="line"><span>    ...&gt;</span></span></code></pre></div><h5 id="确保已添加你需要的权限-从-manifest-json-复制" tabindex="-1">确保已添加你需要的权限(从 manifest.json 复制): <a class="header-anchor" href="#确保已添加你需要的权限-从-manifest-json-复制" aria-label="Permalink to &quot;确保已添加你需要的权限(从 manifest.json 复制):&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;</span></span>
<span class="line"><span>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;</span></span>
<span class="line"><span>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;</span></span>
<span class="line"><span>&lt;!-- 等等其他权限 --&gt;</span></span></code></pre></div><h4 id="配置-build-gradle-app级别-打开-simpledemo-build-gradle" tabindex="-1">配置 build.gradle (app级别) - 打开 simpleDemo/build.gradle: <a class="header-anchor" href="#配置-build-gradle-app级别-打开-simpledemo-build-gradle" aria-label="Permalink to &quot;配置 build.gradle (app级别) - 打开 simpleDemo/build.gradle:&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>android {</span></span>
<span class="line"><span>    compileSdkVersion 30</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    defaultConfig {</span></span>
<span class="line"><span>        applicationId &quot;com.xxx.app&quot;  // 改成你的包名</span></span>
<span class="line"><span>        minSdkVersion 21</span></span>
<span class="line"><span>        targetSdkVersion 30</span></span>
<span class="line"><span>        versionCode 4490</span></span>
<span class="line"><span>        versionName &quot;4.4.9&quot;</span></span>
<span class="line"><span>        </span></span>
<span class="line"><span>        ndk {</span></span>
<span class="line"><span>            abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="第四步-集成第三方-sdk-根据你的配置-需要集成以下-sdk" tabindex="-1">第四步: 集成第三方 SDK - 根据你的配置,需要集成以下 SDK: <a class="header-anchor" href="#第四步-集成第三方-sdk-根据你的配置-需要集成以下-sdk" aria-label="Permalink to &quot;第四步: 集成第三方 SDK - 根据你的配置,需要集成以下 SDK:&quot;">​</a></h2><h3 id="高德地图" tabindex="-1">高德地图 <a class="header-anchor" href="#高德地图" aria-label="Permalink to &quot;高德地图&quot;">​</a></h3><h4 id="在-build-gradle-添加依赖" tabindex="-1">在 build.gradle 添加依赖: <a class="header-anchor" href="#在-build-gradle-添加依赖" aria-label="Permalink to &quot;在 build.gradle 添加依赖:&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>dependencies {</span></span>
<span class="line"><span>    implementation &#39;com.amap.api:location:latest.integration&#39;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="在-androidmanifest-xml-添加" tabindex="-1">在 AndroidManifest.xml 添加: <a class="header-anchor" href="#在-androidmanifest-xml-添加" aria-label="Permalink to &quot;在 AndroidManifest.xml 添加:&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;meta-data</span></span>
<span class="line"><span>    android:name=&quot;com.amap.api.v2.apikey&quot;</span></span>
<span class="line"><span>    android:value=&quot;xxxxx&quot;/&gt;</span></span></code></pre></div><h3 id="微信-sdk-登录-支付-分享" tabindex="-1">微信 SDK (登录/支付/分享) <a class="header-anchor" href="#微信-sdk-登录-支付-分享" aria-label="Permalink to &quot;微信 SDK (登录/支付/分享)&quot;">​</a></h3><h4 id="下载微信开放平台-android-sdk" tabindex="-1">下载微信开放平台 Android SDK <a class="header-anchor" href="#下载微信开放平台-android-sdk" aria-label="Permalink to &quot;下载微信开放平台 Android SDK&quot;">​</a></h4><h4 id="配置-appid-xxxxx" tabindex="-1">配置 AppID: xxxxx <a class="header-anchor" href="#配置-appid-xxxxx" aria-label="Permalink to &quot;配置 AppID: xxxxx&quot;">​</a></h4><h4 id="参考-https-nativesupport-dcloud-net-cn-appdocs-usemodule-androidmoduleconfig-oauth" tabindex="-1">参考: <a href="https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/oauth" target="_blank" rel="noreferrer">https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/oauth</a> <a class="header-anchor" href="#参考-https-nativesupport-dcloud-net-cn-appdocs-usemodule-androidmoduleconfig-oauth" aria-label="Permalink to &quot;参考: https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/oauth&quot;">​</a></h4><h3 id="支付宝-sdk" tabindex="-1">支付宝 SDK <a class="header-anchor" href="#支付宝-sdk" aria-label="Permalink to &quot;支付宝 SDK&quot;">​</a></h3><h4 id="参考-https-nativesupport-dcloud-net-cn-appdocs-usemodule-androidmoduleconfig-pay" tabindex="-1">参考: <a href="https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/pay" target="_blank" rel="noreferrer">https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/pay</a> <a class="header-anchor" href="#参考-https-nativesupport-dcloud-net-cn-appdocs-usemodule-androidmoduleconfig-pay" aria-label="Permalink to &quot;参考: https://nativesupport.dcloud.net.cn/AppDocs/usemodule/androidModuleConfig/pay&quot;">​</a></h4><h2 id="第五步-配置应用图标和启动页" tabindex="-1">第五步: 配置应用图标和启动页 <a class="header-anchor" href="#第五步-配置应用图标和启动页" aria-label="Permalink to &quot;第五步: 配置应用图标和启动页&quot;">​</a></h2><h3 id="替换应用图标-将你的图标文件替换到" tabindex="-1">替换应用图标 将你的图标文件替换到: <a class="header-anchor" href="#替换应用图标-将你的图标文件替换到" aria-label="Permalink to &quot;替换应用图标 将你的图标文件替换到:&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>simpleDemo/src/main/res/</span></span>
<span class="line"><span>├── drawable-hdpi/icon.png      (72x72)</span></span>
<span class="line"><span>├── drawable-xhdpi/icon.png     (96x96)</span></span>
<span class="line"><span>├── drawable-xxhdpi/icon.png    (144x144)</span></span>
<span class="line"><span>└── drawable-xxxhdpi/icon.png   (192x192)</span></span></code></pre></div><h3 id="配置启动页-将你的启动页图片复制到对应目录" tabindex="-1">配置启动页 - 将你的启动页图片复制到对应目录: <a class="header-anchor" href="#配置启动页-将你的启动页图片复制到对应目录" aria-label="Permalink to &quot;配置启动页 - 将你的启动页图片复制到对应目录:&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>simpleDemo/src/main/res/</span></span>
<span class="line"><span>├── drawable-xhdpi/splash.png</span></span>
<span class="line"><span>├── drawable-xxhdpi/splash.png</span></span>
<span class="line"><span>└── drawable-xxxhdpi/splash.png</span></span></code></pre></div><h2 id="第六步-使用-android-studio-打包" tabindex="-1">第六步: 使用 Android Studio 打包 <a class="header-anchor" href="#第六步-使用-android-studio-打包" aria-label="Permalink to &quot;第六步: 使用 Android Studio 打包&quot;">​</a></h2><h3 id="打开项目" tabindex="-1">打开项目 <a class="header-anchor" href="#打开项目" aria-label="Permalink to &quot;打开项目&quot;">​</a></h3><h4 id="启动-android-studio" tabindex="-1">启动 Android Studio <a class="header-anchor" href="#启动-android-studio" aria-label="Permalink to &quot;启动 Android Studio&quot;">​</a></h4><h4 id="打开-hbuilder-integrate-as-项目" tabindex="-1">打开 HBuilder-Integrate-AS 项目 <a class="header-anchor" href="#打开-hbuilder-integrate-as-项目" aria-label="Permalink to &quot;打开 HBuilder-Integrate-AS 项目&quot;">​</a></h4><h4 id="等待-gradle-同步完成" tabindex="-1">等待 Gradle 同步完成 <a class="header-anchor" href="#等待-gradle-同步完成" aria-label="Permalink to &quot;等待 Gradle 同步完成&quot;">​</a></h4><h3 id="生成签名文件-如果还没有" tabindex="-1">生成签名文件 (如果还没有) <a class="header-anchor" href="#生成签名文件-如果还没有" aria-label="Permalink to &quot;生成签名文件 (如果还没有)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Build → Generate Signed Bundle / APK</span></span>
<span class="line"><span>→ APK → Create new... </span></span>
<span class="line"><span>→ 填写密钥信息 → 生成 .jks 文件</span></span></code></pre></div><h3 id="打包-apk-生成的-apk-位于-simpledemo-release-app-release-apk" tabindex="-1">打包 APK - 生成的 APK 位于: simpleDemo/release/app-release.apk <a class="header-anchor" href="#打包-apk-生成的-apk-位于-simpledemo-release-app-release-apk" aria-label="Permalink to &quot;打包 APK - 生成的 APK 位于: simpleDemo/release/app-release.apk&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Build → Generate Signed Bundle / APK</span></span>
<span class="line"><span>→ 选择 APK</span></span>
<span class="line"><span>→ 选择签名文件</span></span>
<span class="line"><span>→ 选择 release</span></span>
<span class="line"><span>→ 勾选 V1 和 V2 签名</span></span>
<span class="line"><span>→ Finish</span></span></code></pre></div><h2 id="第七步-测试安装" tabindex="-1">第七步: 测试安装 <a class="header-anchor" href="#第七步-测试安装" aria-label="Permalink to &quot;第七步: 测试安装&quot;">​</a></h2><h3 id="将生成的-apk-安装到手机测试-adb-install-app-release-apk" tabindex="-1">将生成的 APK 安装到手机测试: adb install app-release.apk <a class="header-anchor" href="#将生成的-apk-安装到手机测试-adb-install-app-release-apk" aria-label="Permalink to &quot;将生成的 APK 安装到手机测试: adb install app-release.apk&quot;">​</a></h3><h2 id="qa" tabindex="-1">QA <a class="header-anchor" href="#qa" aria-label="Permalink to &quot;QA&quot;">​</a></h2><h3 id="资源包找不到-确保-uni-7f8acb0-文件夹完整复制到-assets-apps-目录" tabindex="-1">资源包找不到: 确保 __UNI__7F8ACB0 文件夹完整复制到 assets/apps/ 目录 <a class="header-anchor" href="#资源包找不到-确保-uni-7f8acb0-文件夹完整复制到-assets-apps-目录" aria-label="Permalink to &quot;资源包找不到: 确保 __UNI__7F8ACB0 文件夹完整复制到 assets/apps/ 目录&quot;">​</a></h3><h3 id="第三方功能不可用-检查对应-sdk-是否正确集成和配置" tabindex="-1">第三方功能不可用: 检查对应 SDK 是否正确集成和配置 <a class="header-anchor" href="#第三方功能不可用-检查对应-sdk-是否正确集成和配置" aria-label="Permalink to &quot;第三方功能不可用: 检查对应 SDK 是否正确集成和配置&quot;">​</a></h3><h3 id="白屏-启动失败-检查-dcloud-control-xml-中的-appid-是否正确" tabindex="-1">白屏/启动失败: 检查 dcloud_control.xml 中的 appid 是否正确 <a class="header-anchor" href="#白屏-启动失败-检查-dcloud-control-xml-中的-appid-是否正确" aria-label="Permalink to &quot;白屏/启动失败: 检查 dcloud_control.xml 中的 appid 是否正确&quot;">​</a></h3><h3 id="打包报错-检查-sdk-版本是否与-hbuilderx-版本匹配" tabindex="-1">打包报错: 检查 SDK 版本是否与 HBuilderX 版本匹配 <a class="header-anchor" href="#打包报错-检查-sdk-版本是否与-hbuilderx-版本匹配" aria-label="Permalink to &quot;打包报错: 检查 SDK 版本是否与 HBuilderX 版本匹配&quot;">​</a></h3>`,55)]))}const b=s(l,[["render",p]]);export{u as __pageData,b as default};
