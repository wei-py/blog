import{_ as i,c as a,o as t,ah as n}from"./chunks/framework.ptg7Kx6M.js";const g=JSON.parse('{"title":"ä¸­æ–­è¯·æ±‚","description":"","frontmatter":{"date":"2025-05-15T00:00:00.000Z","title":"ä¸­æ–­è¯·æ±‚","category":"frontEnd","tags":["ç®—æ³•","å…«è‚¡æ–‡"]},"headers":[],"relativePath":"posts/å‰ç«¯/absort-request.md","filePath":"posts/å‰ç«¯/absort-request.md"}'),h={name:"posts/å‰ç«¯/absort-request.md"};function k(l,s,p,e,E,r){return t(),a("div",null,s[0]||(s[0]=[n(`<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå¦‚æœä½ å¸Œæœ›åœ¨æŸä¸ªè¯·æ±‚è¶…è¿‡ 5 ç§’è¿˜æœªå®Œæˆæ—¶è‡ªåŠ¨ç»ˆæ­¢ï¼ˆè¶…æ—¶æ§åˆ¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>Promise.race()</code> é…åˆä¸€ä¸ªå®šæ—¶å™¨æ¥å®ç°ã€‚è¿™æ˜¯ä¸€ä¸ªå¸¸è§åšæ³•ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªé€šç”¨çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å¯¹ä¸€ä¸ªè¯·æ±‚è®¾ç½® 5 ç§’è¶…æ—¶ï¼š</p><hr><h3 id="âœ…-ä½¿ç”¨-fetch-å®ç°è¯·æ±‚-5-ç§’æœªå®Œæˆåˆ™ç»ˆæ­¢" tabindex="-1">âœ… ä½¿ç”¨ <code>fetch</code> å®ç°è¯·æ±‚ 5 ç§’æœªå®Œæˆåˆ™ç»ˆæ­¢ <a class="header-anchor" href="#âœ…-ä½¿ç”¨-fetch-å®ç°è¯·æ±‚-5-ç§’æœªå®Œæˆåˆ™ç»ˆæ­¢" aria-label="Permalink to &quot;âœ… ä½¿ç”¨ \`fetch\` å®ç°è¯·æ±‚ 5 ç§’æœªå®Œæˆåˆ™ç»ˆæ­¢&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchWithTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fetchPromise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url, { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options, signal });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timeoutId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç»ˆæ­¢è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚è¶…æ—¶&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, timeout);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fetchPromise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        clearTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeoutId);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        clearTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeoutId);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="âœ…-ä½¿ç”¨æ–¹å¼" tabindex="-1">âœ… ä½¿ç”¨æ–¹å¼ï¼š <a class="header-anchor" href="#âœ…-ä½¿ç”¨æ–¹å¼" aria-label="Permalink to &quot;âœ… ä½¿ç”¨æ–¹å¼ï¼š&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetchWithTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/api/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (response.ok) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Network response was not ok.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ•°æ®:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚å¤±è´¥æˆ–è¶…æ—¶:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span></code></pre></div><hr><h3 id="ğŸ”-è¡¥å……è¯´æ˜" tabindex="-1">ğŸ” è¡¥å……è¯´æ˜ï¼š <a class="header-anchor" href="#ğŸ”-è¡¥å……è¯´æ˜" aria-label="Permalink to &quot;ğŸ” è¡¥å……è¯´æ˜ï¼š&quot;">â€‹</a></h3><ul><li><code>AbortController</code> æ˜¯ç°ä»£æµè§ˆå™¨æä¾›çš„ç”¨äºä¸­æ–­è¯·æ±‚çš„æ–¹å¼ã€‚</li><li><code>Promise.race()</code> ä¹Ÿå¯ä»¥ç”¨æ¥å®ç°ç±»ä¼¼é€»è¾‘ï¼Œä¾‹å¦‚è®©â€œè¯·æ±‚â€å’Œâ€œå®šæ—¶å™¨â€è¿›è¡Œæ¯”èµ›ï¼š</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timeoutPromise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¯·æ±‚è¶…æ—¶&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">race</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url), timeoutPromise])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err));</span></span></code></pre></div><hr><h3 id="ğŸ§ -é¢è¯•å¯èƒ½è¿½é—®ç‚¹" tabindex="-1">ğŸ§  é¢è¯•å¯èƒ½è¿½é—®ç‚¹ï¼š <a class="header-anchor" href="#ğŸ§ -é¢è¯•å¯èƒ½è¿½é—®ç‚¹" aria-label="Permalink to &quot;ğŸ§  é¢è¯•å¯èƒ½è¿½é—®ç‚¹ï¼š&quot;">â€‹</a></h3><ol><li><p><strong>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>AbortController</code>ï¼Ÿ</strong></p><ul><li>å› ä¸ºå®ƒå¯ä»¥ä¸»åŠ¨ä¸­æ–­æ­£åœ¨è¿›è¡Œçš„ <code>fetch</code> è¯·æ±‚ï¼Œè€Œä¸æ˜¯ç­‰å®ƒè‡ªç„¶ç»“æŸã€‚</li></ul></li><li><p><strong><code>Promise.race()</code> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li>å®ƒå¯ä»¥è®©å¤šä¸ª Promise ç«èµ›ï¼Œè°å…ˆå®Œæˆå°±ç”¨è°çš„ç»“æœã€‚</li></ul></li><li><p><strong>å¦‚æœåç«¯æ¥å£æ²¡æœ‰å“åº”ï¼Œå‰ç«¯ä¼šæ€æ ·ï¼Ÿ</strong></p><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>fetch</code> ä¸ä¼šè‡ªåŠ¨è¶…æ—¶ï¼Œå¯èƒ½ä¼šä¸€ç›´æŒ‚èµ·ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åŠ è¶…æ—¶æœºåˆ¶ã€‚</li></ul></li><li><p><strong>é™¤äº† <code>fetch</code>ï¼Œè¿˜èƒ½æ€ä¹ˆå¤„ç†è¶…æ—¶ï¼Ÿæ¯”å¦‚ <code>XMLHttpRequest</code> æˆ– <code>axios</code>ï¼Ÿ</strong></p><ul><li><code>XMLHttpRequest</code>: å¯ä»¥è®¾ç½® <code>.timeout</code> å±æ€§ï¼Œå¹¶ç›‘å¬ <code>ontimeout</code> äº‹ä»¶ã€‚</li><li><code>axios</code>: æ”¯æŒç›´æ¥é…ç½® <code>timeout: 5000</code>ã€‚</li></ul></li></ol><hr><h3 id="âœ…-æ€»ç»“" tabindex="-1">âœ… æ€»ç»“ <a class="header-anchor" href="#âœ…-æ€»ç»“" aria-label="Permalink to &quot;âœ… æ€»ç»“&quot;">â€‹</a></h3><p>è¦å®ç°â€œè¯·æ±‚ 5s æœªå®Œæˆå°±ç»ˆæ­¢â€ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>fetch + AbortController</code></td><td>åŸç”Ÿã€ç°ä»£æµè§ˆå™¨æ”¯æŒ</td></tr><tr><td><code>Promise.race([fetch(), timer])</code></td><td>æ›´é€šç”¨çš„ Promise æ§åˆ¶æ–¹å¼</td></tr><tr><td><code>axios(timeout: 5000)</code></td><td>ç¬¬ä¸‰æ–¹åº“æ›´ç®€æ´</td></tr><tr><td><code>XMLHttpRequest.timeout</code></td><td>å…¼å®¹æ€§å¥½ä½†è¾ƒè€</td></tr></tbody></table><p>å¦‚éœ€é¢è¯•å›ç­”ï¼Œå»ºè®®ä½ æŒæ¡ç¬¬ä¸€ç§æ–¹æ¡ˆå¹¶èƒ½è§£é‡Šå…¶åŸç†ã€‚</p><hr><p>å¦‚æœä½ æœ‰ç‰¹å®šçš„æŠ€æœ¯æ ˆï¼ˆå¦‚ Vue/Axios/React Queryï¼‰ä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥ç»™å‡ºå¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚</p>`,22)]))}const o=i(h,[["render",k]]);export{g as __pageData,o as default};
