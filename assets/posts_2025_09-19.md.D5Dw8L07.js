import{_ as i,c as a,o as t,ah as n}from"./chunks/framework.ptg7Kx6M.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{"title":"2025-09-19T00:00:00.000Z","date":"2025-09-19T00:00:00.000Z","category":"blog","tags":["blog"]},"headers":[],"relativePath":"posts/2025/09-19.md","filePath":"posts/2025/09-19.md"}'),e={name:"posts/2025/09-19.md"};function l(p,s,h,r,k,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h2 id="创建证书" tabindex="-1">创建证书 <a class="header-anchor" href="#创建证书" aria-label="Permalink to &quot;创建证书&quot;">​</a></h2><h3 id="csr-certificate-signing-request" tabindex="-1">CSR (Certificate Signing Request) <a class="header-anchor" href="#csr-certificate-signing-request" aria-label="Permalink to &quot;CSR (Certificate Signing Request)&quot;">​</a></h3><p>本地生成的、包含公钥信息的请求文件。它是创建证书的“门票”。</p><ol><li><p>打开“钥匙串访问”</p></li><li><p>选择菜单：钥匙串访问 &gt; 证书助理 &gt; 从证书颁发机构请求证书...。</p></li><li><p>填写“用户电子邮件地址”和“常用名称”，“CA 电子邮件地址”留空，选择“存储到磁盘”，然后点击“继续”。</p></li></ol><h3 id="私钥-private-key" tabindex="-1">私钥 (Private Key) <a class="header-anchor" href="#私钥-private-key" aria-label="Permalink to &quot;私钥 (Private Key)&quot;">​</a></h3><p>生成 CSR 时创建的，永远保留在您的 Mac 钥匙串中，绝不能泄露。它是我(你)签名应用的“密码”。</p><h3 id="证书-certificate" tabindex="-1">证书 (Certificate) <a class="header-anchor" href="#证书-certificate" aria-label="Permalink to &quot;证书 (Certificate)&quot;">​</a></h3><p>Apple 官方签发的 .cer 文件，它证明了您的公钥是合法的。它必须与我(你)的私钥配对才能使用。</p><h3 id="证书-cer-导出为-p12文件" tabindex="-1">证书 .cer 导出为.p12文件 <a class="header-anchor" href="#证书-cer-导出为-p12文件" aria-label="Permalink to &quot;证书 .cer 导出为.p12文件&quot;">​</a></h3><p>您想把刚刚安装到“钥匙串访问”中的 <strong>Apple Development 证书</strong> 导出为 <code>.p12</code> 文件，这是非常常见的需求，尤其是在需要将证书和私钥一起迁移到另一台 Mac 或在 CI/CD 系统（如 Jenkins, GitHub Actions）中使用时。</p><p><code>.p12</code> 文件（也叫 PKCS#12 文件）是一个安全的容器，它<strong>同时包含了您的证书和与之配对的私钥</strong>。而您从 Apple 下载的 <code>.cer</code> 文件只包含证书，不包含私钥。</p><hr><h3 id="✅-将证书导出为-p12-文件的步骤" tabindex="-1">✅ 将证书导出为 .p12 文件的步骤 <a class="header-anchor" href="#✅-将证书导出为-p12-文件的步骤" aria-label="Permalink to &quot;✅ 将证书导出为 .p12 文件的步骤&quot;">​</a></h3><ol><li><p><strong>打开“钥匙串访问”</strong>：</p><ul><li>在您的 Mac 上，前往 <code>/Applications/Utilities/</code> 文件夹，打开 <strong>“钥匙串访问”</strong> 应用。</li></ul></li><li><p><strong>找到您的证书</strong>：</p><ul><li>在左侧边栏中，选择 <strong>“登录”</strong> 钥匙串（通常默认就是它）。</li><li>在右侧上方的搜索框中，输入您的证书名称，例如 <code>Apple Development</code>，快速定位。</li><li>在“种类”分类中，选择 <strong>“我的证书”</strong>。这样可以过滤出那些包含私钥的证书。</li></ul></li><li><p><strong>选择并导出</strong>：</p><ul><li>找到您的 <code>Apple Development: ...</code> 证书，<strong>选中它</strong>（点击一次）。</li><li><strong>重要</strong>：请确保您选中的是证书本身，而不是它下面展开的私钥。选中证书后，您应该能看到它旁边有一个小三角形，点开后能看到私钥。</li><li>从顶部菜单栏中，选择：<code>文件</code> &gt; <code>导出项目...</code>。</li></ul></li><li><p><strong>保存文件</strong>：</p><ul><li>在弹出的保存对话框中，选择一个位置（例如桌面）。</li><li>为文件命名，例如：<code>iOS_Development.p12</code>。</li><li>在“文件格式”下拉菜单中，选择 <strong><code>个人信息交换 (.p12)</code></strong>。</li><li>点击 <strong><code>保存</code></strong>。</li></ul></li><li><p><strong>设置密码</strong>：</p><ul><li>系统会弹出一个对话框，要求您为 <code>.p12</code> 文件设置一个密码。</li><li><strong>请务必设置一个强密码并安全保管！</strong> 这个密码用于保护您的私钥，没有它就无法在其他地方使用这个 <code>.p12</code> 文件。</li><li>输入密码并确认，然后点击 <strong><code>好</code></strong>。</li></ul></li></ol><hr><blockquote><p><strong>注意</strong>：<code>.p12</code> 文件是高度敏感的，请像保护您的 Apple ID 密码一样保护它，切勿泄露。如果怀疑泄露，请立即在 Apple Developer 账户中撤销对应的证书。</p></blockquote><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将 .p12 文件转为 Base64 并复制到剪贴板</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;❌ 请提供一个 .p12 文件路径。&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;用法: basec your_file.p12&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;❌ 文件 &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; 不存在。&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;✅ 正在处理文件: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    base64</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pbcopy</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;🎉 文件已编码为 Base64 并复制到剪贴板！&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,17)]))}const g=i(e,[["render",l]]);export{c as __pageData,g as default};
