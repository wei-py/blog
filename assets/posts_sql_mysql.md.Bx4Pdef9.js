import{_ as i,c as a,o as l,ah as t}from"./chunks/framework.ptg7Kx6M.js";const c=JSON.parse('{"title":"创建 mysql","description":"创建 mysql","frontmatter":{"title":"创建 mysql","description":"创建 mysql","date":"2025-10-13T00:00:00.000Z","tags":["mysql"]},"headers":[],"relativePath":"posts/sql/mysql.md","filePath":"posts/sql/mysql.md"}'),e={name:"posts/sql/mysql.md"};function p(n,s,h,k,d,o){return l(),a("div",null,s[0]||(s[0]=[t(`<p>brew install mysql@8.0</p><blockquote><p><strong><code>A mysqld process already exists</code></strong></p></blockquote><p>这表示：<strong>MySQL 服务进程（mysqld）已经在运行，不能再启动一个新的实例。</strong></p><hr><h3 id="🔍-错误原因" tabindex="-1">🔍 错误原因 <a class="header-anchor" href="#🔍-错误原因" aria-label="Permalink to &quot;🔍 错误原因&quot;">​</a></h3><p>你在终端中执行了类似这样的命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysqld_safe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-grant-tables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-networking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span></code></pre></div><p>这个命令的目的是在<strong>跳过权限验证和网络连接</strong>的情况下启动 MySQL，常用于重置 root 密码或紧急修复。</p><p>但系统提示：</p><blockquote><p><code>A mysqld process already exists</code></p></blockquote><p>说明当前系统中<strong>已经有一个 MySQL 服务正在运行</strong>，所以 <code>mysqld_safe</code> 拒绝再启动一个实例，避免冲突。</p><hr><h3 id="✅-解决方案" tabindex="-1">✅ 解决方案 <a class="header-anchor" href="#✅-解决方案" aria-label="Permalink to &quot;✅ 解决方案&quot;">​</a></h3><h4 id="✅-方法一-先停止现有-mysql-服务-再启动" tabindex="-1">✅ 方法一：先停止现有 MySQL 服务，再启动 <a class="header-anchor" href="#✅-方法一-先停止现有-mysql-服务-再启动" aria-label="Permalink to &quot;✅ 方法一：先停止现有 MySQL 服务，再启动&quot;">​</a></h4><ol><li><p><strong>停止当前运行的 MySQL 服务：</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果你是用 Homebrew 安装的 MySQL：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者直接 kill 进程（不推荐除非你知道自己在做什么）：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkill</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span></span></code></pre></div></li><li><p><strong>然后再启动你的命令：</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysqld_safe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-grant-tables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-networking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span></code></pre></div></li></ol><hr><h4 id="✅-方法二-如果你只是想-重置密码-可以改用更安全的方式" tabindex="-1">✅ 方法二：如果你只是想“重置密码”，可以改用更安全的方式 <a class="header-anchor" href="#✅-方法二-如果你只是想-重置密码-可以改用更安全的方式" aria-label="Permalink to &quot;✅ 方法二：如果你只是想“重置密码”，可以改用更安全的方式&quot;">​</a></h4><blockquote><p>⚠️ 注意：<code>--skip-grant-tables</code> 会绕过所有权限检查，<strong>仅用于紧急恢复</strong>，请勿在生产环境使用！</p></blockquote><p>更好的做法是：</p><ol><li><p>停止 MySQL：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre></div></li><li><p>启动 MySQL 并跳过权限：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld_safe</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-grant-tables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-networking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;</span></span></code></pre></div></li><li><p>连接 MySQL：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span></code></pre></div></li><li><p>重置密码（MySQL 5.7+ 语法）：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FLUSH PRIVILEGES;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EXIT;</span></span></code></pre></div></li><li><p>杀掉临时进程并重启正常服务：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkill</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql@8.0</span></span></code></pre></div></li></ol><hr><h3 id="📝-补充说明" tabindex="-1">📝 补充说明 <a class="header-anchor" href="#📝-补充说明" aria-label="Permalink to &quot;📝 补充说明&quot;">​</a></h3><ul><li>日志路径 <code>/opt/homebrew/var/mysql/ws-Mac-mini.local.err</code> 是 Homebrew 安装的 MySQL 默认日志位置。</li><li>你看到的 <code>[2] + exit 1</code> 表示该后台任务（<code>mysqld_safe ... &amp;</code>）因错误退出，返回码为 1。</li></ul><hr><h3 id="✅-总结" tabindex="-1">✅ 总结 <a class="header-anchor" href="#✅-总结" aria-label="Permalink to &quot;✅ 总结&quot;">​</a></h3><p>你遇到的问题是因为<strong>MySQL 已经在运行</strong>，而你尝试再次启动它。解决方法很简单：</p><blockquote><p>✅ 先停止现有 MySQL → 再执行你的 <code>mysqld_safe</code> 命令 → 完成后记得重启正常服务。</p></blockquote><hr><p>如需进一步帮助（比如不知道怎么停服务、或者不知道 MySQL 是怎么启动的），可以贴出：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aux</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre></div><p>lazysql mysql://root:admin@localhost:3306</p><p>我可以帮你精准定位问题 😊</p>`,32)]))}const g=i(e,[["render",p]]);export{c as __pageData,g as default};
